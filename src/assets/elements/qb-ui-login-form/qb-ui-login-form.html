<link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-form/iron-form.html">

<link rel="import" href="../qb-behavior-form/qb-behavior-form.html">

<link rel="import" href="../qb-core-i18n/qb-core-i18n.html">
<link rel="import" href="../qb-ui-form-input/qb-ui-form-input.html">
<link rel="import" href="../qb-ui-form-dropdown/qb-ui-form-dropdown.html">
<link rel="import" href="../qb-ui-form-radiogroup/qb-ui-form-radiogroup.html">
<link rel="import" href="../qb-ui-form-date/qb-ui-form-date.html">
<link rel="import" href="../qb-ui-status-indicator/qb-ui-status-indicator.html">

<dom-module id='qb-ui-login-form'>
	<template>
		<style include="qb-form-styles"></style>
		<style>
			:host{
				width: 30rem;
			}
			:host paper-button{
				margin-top: 2rem;
				background: var(--qb-blue-transparent);
				color: var(--qb-white);
				text-align: center;
			}
			@media (max-width: 30rem) {
				:host {
					max-width: auto;
				}
			}
		</style>
		<form
			is="iron-form"
			id="form"
			method="post"
			action="[[action]]"
			disable-Native-Validation-Ui>

			<qb-ui-form-input
				id="nickname"
				name="nickname"
				value="{{nickname}}"
				strings-base="register/login/nickname"
				required>
			</qb-ui-form-input>

			<qb-ui-form-input
				id="password"
				name="password"
				value="{{password}}"
				strings-base="register/login/password"
				required
				type="password">
			</qb-ui-form-input>

			<paper-button
				on-tap='_submitForm'
				disabled$="[[loading]]">
				<qb-core-i18n
					key="register/login/submit"></qb-core-i18n>
			</paper-button>

			<div
				class="form-error"
				hidden$="[[!errorCode]]">
				<qb-core-i18n
					key="[[_buildKey('register/login/error/',errorCode)]]"></qb-core-i18n>
			</div>

			<template
				is="dom-if"
				if="[[loading]]">
				<div
					class="loading-indicator fit horizontal layout center center-justified">
					<qb-ui-status-indicator
						state="pending">
					</qb-ui-status-indicator>
				</div>
			</template>

		</form>

	</template>
</dom-module>

<script>
(function () {
	window.Quirkbot = window.Quirkbot || {};
	window.Quirkbot.UILoginForm = Polymer({
		is: 'qb-ui-login-form',
		behaviors:[
			window.Quirkbot.FormBehavior
		]
	});
})();
</script>
