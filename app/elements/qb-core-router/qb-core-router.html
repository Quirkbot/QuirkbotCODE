<link rel="import" href="../../bower_components/polymer/polymer.html">
<script src="../../bower_components/page/page.js"></script>

<dom-module id="qb-core-router">
</dom-module>
<script>
(function () {
	window.Quirkbot = window.Quirkbot || {};
	window.Quirkbot.CoreRouter = Polymer({
		is: 'qb-core-router',
		properties: {
			entry: {
				type: String,
				notify: true
			}
		},
		ready: function(){
			this.listen(window, 'WebComponentsReady', '_addRoutes');
		},
		_addRoutes: function(){
			page('*', function(data){
				var id = data.hash;
				if(id.length && id[0] === '/'){
					id = id.substr(1);
				}
				this.entry = id;
				console.log(id)
			}.bind(this));
			page({});

		}
	});
})();
</script>
